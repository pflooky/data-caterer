name: "json_account_http"
steps:
  - name: "account"
    type: "json"
    count:
      total: 1000
    options:
      httpMethod: "PUT"
      httpContentType: "application/json"
      httpHeader.first-name: "peter"
      httpHeader.amount: 100
    schema:
      type: "manual"
      fields:
        - name: "account_id"
          type: "string"
          generator:
            type: "random"
        - name: "year"
          type: "int"
          generator:
            type: "random"
            options:
              minValue: 2021
              maxValue: 2022
        - name: "amount"
          type: "double"
          generator:
            type: "random"
            options:
              minValue: 10.0
              maxValue: 100.0
        - name: "details"
          schema:
            type: "manual"
            fields:
              - name: "name"
                type: "string"
                generator:
                  type: "random"
              - name: "txn_date"
                type: "date"
                generator:
                  type: "random"
                  options:
                    minValue: "2021-01-01"
                    maxValue: "2021-12-31"
              - name: "updated_by"
                schema:
                  type: "manual"
                  fields:
                    - name: "user"
                      type: "string"
                      generator:
                        type: "random"
                    - name: "time"
                      type: "timestamp"
                      generator:
                        type: "random"
        - name: "transactions"
          type: "array"
          schema:
            type: "manual"
            fields:
              - name: "txn_date"
                type: "date"
                generator:
                  type: "random"
              - name: "amount"
                type: "double"
                generator:
                  type: "random"